{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/dashboard/stats-card.tsx"],"sourcesContent":["import type React from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\n\ninterface StatsCardProps {\n  title: string;\n  value: string | number;\n  icon: React.ReactNode;\n  description?: string;\n}\n\nconst StatsCard: React.FC<StatsCardProps> = ({ title, value, icon, description }) => {\n  return (\n    <Card>\n      <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n        <CardTitle className=\"text-sm font-medium text-muted-foreground\">{title}</CardTitle>\n        <div className=\"text-primary\">{icon}</div>\n      </CardHeader>\n      <CardContent>\n        <div className=\"text-2xl font-bold text-primary\">{value}</div>\n        {description && <p className=\"text-xs text-muted-foreground\">{description}</p>}\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default StatsCard;\n"],"names":[],"mappings":";;;;AACA;;;AASA,MAAM,YAAsC,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,WAAW,EAAE;IAC9E,qBACE,6LAAC,mIAAA,CAAA,OAAI;;0BACH,6LAAC,mIAAA,CAAA,aAAU;gBAAC,WAAU;;kCACpB,6LAAC,mIAAA,CAAA,YAAS;wBAAC,WAAU;kCAA6C;;;;;;kCAClE,6LAAC;wBAAI,WAAU;kCAAgB;;;;;;;;;;;;0BAEjC,6LAAC,mIAAA,CAAA,cAAW;;kCACV,6LAAC;wBAAI,WAAU;kCAAmC;;;;;;oBACjD,6BAAe,6LAAC;wBAAE,WAAU;kCAAiC;;;;;;;;;;;;;;;;;;AAItE;KAbM;uCAeS","debugId":null}},
    {"offset": {"line": 86, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/dashboard/reviews/page.tsx"],"sourcesContent":["\n'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\nimport { Star, TrendingUp, MessageSquare } from 'lucide-react';\nimport { useAuth } from '@/context/auth-context';\nimport { db } from '@/lib/firebase';\nimport { collection, query, where, orderBy, onSnapshot } from 'firebase/firestore';\nimport type { Review } from '@/functions/src/types';\nimport { Loader2 } from 'lucide-react';\nimport StatsCard from '@/components/dashboard/stats-card'; // Corrected import\n\nconst RatingStars = ({ rating, className = '' }: { rating: number, className?: string }) => (\n  <div className=\"flex\">\n    {[...Array(5)].map((_, i) => (\n      <Star key={i} className={`h-4 w-4 ${className} ${i < rating ? 'fill-yellow-400 text-yellow-400' : 'fill-muted stroke-muted-foreground'}`} />\n    ))}\n  </div>\n);\n\n\nexport default function DashboardReviewsPage() {\n  const { user, firestoreUser, loading: authLoading } = useAuth();\n  const [reviews, setReviews] = useState<Review[]>([]);\n  const [loadingReviews, setLoadingReviews] = useState(true);\n\n  useEffect(() => {\n    document.title = 'Відгуки - Панель Продавця';\n    if (!user) {\n      setLoadingReviews(false);\n      return;\n    }\n\n    setLoadingReviews(true);\n    const reviewsQuery = query(\n      collection(db, 'reviews'),\n      where('sellerUid', '==', user.uid),\n      orderBy('createdAt', 'desc')\n    );\n\n    const unsubscribe = onSnapshot(reviewsQuery, (snapshot) => {\n      const fetchedReviews = snapshot.docs.map(doc => doc.data() as Review);\n      setReviews(fetchedReviews);\n      setLoadingReviews(false);\n    }, (error) => {\n      console.error(\"Error fetching reviews: \", error);\n      setLoadingReviews(false);\n    });\n\n    return () => unsubscribe();\n  }, [user]);\n\n  const averageRating = firestoreUser?.sellerRating ? firestoreUser.sellerRating.toFixed(1) : 'N/A';\n  const totalReviews = firestoreUser?.sellerReviewCount || 0;\n\n  if (authLoading || loadingReviews) {\n     return <div className=\"flex justify-center items-center py-10\"><Loader2 className=\"h-8 w-8 animate-spin text-primary\" /></div>;\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <h1 className=\"text-2xl font-headline font-semibold text-primary\">Відгуки Покупців</h1>\n      \n      <div className=\"grid gap-4 md:grid-cols-2\">\n         <StatsCard \n            title=\"Середній рейтинг\"\n            value={averageRating}\n            icon={<Star className=\"h-5 w-5 text-muted-foreground\"/>}\n            description=\"На основі всіх отриманих відгуків\"\n         />\n         <StatsCard \n            title=\"Всього відгуків\"\n            value={totalReviews.toString()}\n            icon={<MessageSquare className=\"h-5 w-5 text-muted-foreground\"/>}\n            description=\"Загальна кількість оцінок від покупців\"\n         />\n      </div>\n\n      <Card>\n        <CardHeader>\n          <CardTitle>Отримані відгуки</CardTitle>\n          <CardDescription>Що говорять покупці про ваші лоти.</CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-6\">\n          {reviews.length > 0 ? (\n            reviews.map(review => (\n              <Card key={review.id} className=\"p-4\">\n                <div className=\"flex items-start gap-4\">\n                  <Avatar>\n                    {/* Placeholder for buyer's avatar if available in the future */}\n                    <AvatarFallback>{review.buyerUsername.substring(0,2).toUpperCase()}</AvatarFallback>\n                  </Avatar>\n                  <div className=\"flex-grow\">\n                    <div className=\"flex items-center justify-between\">\n                      <h4 className=\"font-semibold\">{review.buyerUsername}</h4>\n                      <span className=\"text-xs text-muted-foreground\">{new Date(review.createdAt).toLocaleDateString('uk-UA')}</span>\n                    </div>\n                    <div className=\"my-1\">\n                      <RatingStars rating={review.rating} />\n                    </div>\n                    <p className=\"text-sm text-muted-foreground mb-1\">Лот: <span className=\"font-medium text-primary\">{review.lotName}</span></p>\n                    <p className=\"text-sm\">{review.comment}</p>\n                  </div>\n                </div>\n              </Card>\n            ))\n          ) : (\n             <p className=\"text-muted-foreground text-center py-10\">У вас ще немає відгуків.</p>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}