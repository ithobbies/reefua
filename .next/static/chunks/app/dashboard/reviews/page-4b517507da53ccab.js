(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[727],{172:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(157).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},462:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(157).A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},1394:(e,t,r)=>{"use strict";r.d(t,{BK:()=>d,eu:()=>i,q5:()=>u});var s=r(5155),a=r(2115),l=r(5977),n=r(9434);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(l.bL,{ref:t,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...a})});i.displayName=l.bL.displayName;let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(l._V,{ref:t,className:(0,n.cn)("aspect-square h-full w-full",r),...a})});d.displayName=l._V.displayName;let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(l.H4,{ref:t,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...a})});u.displayName=l.H4.displayName},2712:(e,t,r)=>{"use strict";r.d(t,{N:()=>a});var s=r(2115),a=globalThis?.document?s.useLayoutEffect:()=>{}},3655:(e,t,r)=>{"use strict";r.d(t,{hO:()=>d,sG:()=>i});var s=r(2115),a=r(7650),l=r(9708),n=r(5155),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=s.forwardRef((e,r)=>{let{asChild:s,...a}=e,i=s?l.DX:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(i,{...a,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function d(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}},4063:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(157).A)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},5977:(e,t,r)=>{"use strict";r.d(t,{H4:()=>w,_V:()=>g,bL:()=>j});var s=r(2115),a=r(6081),l=r(9033),n=r(2712),i=r(3655),d=r(5155),u="Avatar",[o,c]=(0,a.A)(u),[f,m]=o(u),x=s.forwardRef((e,t)=>{let{__scopeAvatar:r,...a}=e,[l,n]=s.useState("idle");return(0,d.jsx)(f,{scope:r,imageLoadingStatus:l,onImageLoadingStatusChange:n,children:(0,d.jsx)(i.sG.span,{...a,ref:t})})});x.displayName=u;var p="AvatarImage",h=s.forwardRef((e,t)=>{let{__scopeAvatar:r,src:a,onLoadingStatusChange:u=()=>{},...o}=e,c=m(p,r),f=function(e,t){let[r,a]=s.useState("idle");return(0,n.N)(()=>{if(!e)return void a("error");let r=!0,s=new window.Image,l=e=>()=>{r&&a(e)};return a("loading"),s.onload=l("loaded"),s.onerror=l("error"),s.src=e,t&&(s.referrerPolicy=t),()=>{r=!1}},[e,t]),r}(a,o.referrerPolicy),x=(0,l.c)(e=>{u(e),c.onImageLoadingStatusChange(e)});return(0,n.N)(()=>{"idle"!==f&&x(f)},[f,x]),"loaded"===f?(0,d.jsx)(i.sG.img,{...o,ref:t,src:a}):null});h.displayName=p;var v="AvatarFallback",N=s.forwardRef((e,t)=>{let{__scopeAvatar:r,delayMs:a,...l}=e,n=m(v,r),[u,o]=s.useState(void 0===a);return s.useEffect(()=>{if(void 0!==a){let e=window.setTimeout(()=>o(!0),a);return()=>window.clearTimeout(e)}},[a]),u&&"loaded"!==n.imageLoadingStatus?(0,d.jsx)(i.sG.span,{...l,ref:t}):null});N.displayName=v;var j=x,g=h,w=N},6081:(e,t,r)=>{"use strict";r.d(t,{A:()=>n,q:()=>l});var s=r(2115),a=r(5155);function l(e,t){let r=s.createContext(t),l=e=>{let{children:t,...l}=e,n=s.useMemo(()=>l,Object.values(l));return(0,a.jsx)(r.Provider,{value:n,children:t})};return l.displayName=e+"Provider",[l,function(a){let l=s.useContext(r);if(l)return l;if(void 0!==t)return t;throw Error(`\`${a}\` must be used within \`${e}\``)}]}function n(e,t=[]){let r=[],l=()=>{let t=r.map(e=>s.createContext(e));return function(r){let a=r?.[e]||t;return s.useMemo(()=>({[`__scope${e}`]:{...r,[e]:a}}),[r,a])}};return l.scopeName=e,[function(t,l){let n=s.createContext(l),i=r.length;r=[...r,l];let d=t=>{let{scope:r,children:l,...d}=t,u=r?.[e]?.[i]||n,o=s.useMemo(()=>d,Object.values(d));return(0,a.jsx)(u.Provider,{value:o,children:l})};return d.displayName=t+"Provider",[d,function(r,a){let d=a?.[e]?.[i]||n,u=s.useContext(d);if(u)return u;if(void 0!==l)return l;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=r.reduce((t,{useScope:r,scopeName:s})=>{let a=r(e)[`__scope${s}`];return{...t,...a}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}(l,...t)]}},6104:(e,t,r)=>{"use strict";r.d(t,{Cn:()=>o,db:()=>u,j2:()=>d,yA:()=>i});var s=r(3915),a=r(3004),l=r(5317),n=r(1427);let i=(0,s.Dk)().length?(0,s.Sx)():(0,s.Wp)({apiKey:"AIzaSyAdTHghtC6EapiesS1beHswN5EHJaQ4DEo",authDomain:"reefua.firebaseapp.com",projectId:"reefua",storageBucket:"reefua.firebasestorage.app",messagingSenderId:"655785668574",appId:"1:655785668574:web:6db232c21f495107af374f"}),d=(0,a.xI)(i),u=(0,l.aU)(i),o=(0,n.Uz)(i,"us-central1")},6695:(e,t,r)=>{"use strict";r.d(t,{BT:()=>u,Wu:()=>o,ZB:()=>d,Zp:()=>n,aR:()=>i,wL:()=>c});var s=r(5155),a=r(2115),l=r(9434);let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});n.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...a})});i.displayName="CardHeader";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});d.displayName="CardTitle";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...a})});u.displayName="CardDescription";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",r),...a})});o.displayName="CardContent";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",r),...a})});c.displayName="CardFooter"},6787:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var s=r(5155),a=r(2115),l=r(6695),n=r(1394),i=r(462),d=r(4063),u=r(8437),o=r(6104),c=r(5317),f=r(172);let m=e=>{let{title:t,value:r,icon:a,description:n}=e;return(0,s.jsxs)(l.Zp,{children:[(0,s.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(l.ZB,{className:"text-sm font-medium text-muted-foreground",children:t}),(0,s.jsx)("div",{className:"text-primary",children:a})]}),(0,s.jsxs)(l.Wu,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-primary",children:r}),n&&(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:n})]})]})},x=e=>{let{rating:t,className:r=""}=e;return(0,s.jsx)("div",{className:"flex",children:[void 0,void 0,void 0,void 0,void 0].map((e,a)=>(0,s.jsx)(i.A,{className:"h-4 w-4 ".concat(r," ").concat(a<t?"fill-yellow-400 text-yellow-400":"fill-muted stroke-muted-foreground")},a))})};function p(){let{user:e,firestoreUser:t,loading:r}=(0,u.A)(),[p,h]=(0,a.useState)([]),[v,N]=(0,a.useState)(!0);(0,a.useEffect)(()=>{if(document.title="Відгуки - Панель Продавця",!e)return void N(!1);N(!0);let t=(0,c.P)((0,c.rJ)(o.db,"reviews"),(0,c._M)("sellerUid","==",e.uid),(0,c.My)("createdAt","desc")),r=(0,c.aQ)(t,e=>{h(e.docs.map(e=>e.data())),N(!1)},e=>{console.error("Error fetching reviews: ",e),N(!1)});return()=>r()},[e]);let j=(null==t?void 0:t.sellerRating)?t.sellerRating.toFixed(1):"N/A",g=(null==t?void 0:t.sellerReviewCount)||0;return r||v?(0,s.jsx)("div",{className:"flex justify-center items-center py-10",children:(0,s.jsx)(f.A,{className:"h-8 w-8 animate-spin text-primary"})}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-headline font-semibold text-primary",children:"Відгуки Покупців"}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsx)(m,{title:"Середній рейтинг",value:j,icon:(0,s.jsx)(i.A,{className:"h-5 w-5 text-muted-foreground"}),description:"На основі всіх отриманих відгуків"}),(0,s.jsx)(m,{title:"Всього відгуків",value:g.toString(),icon:(0,s.jsx)(d.A,{className:"h-5 w-5 text-muted-foreground"}),description:"Загальна кількість оцінок від покупців"})]}),(0,s.jsxs)(l.Zp,{children:[(0,s.jsxs)(l.aR,{children:[(0,s.jsx)(l.ZB,{children:"Отримані відгуки"}),(0,s.jsx)(l.BT,{children:"Що говорять покупці про ваші лоти."})]}),(0,s.jsx)(l.Wu,{className:"space-y-6",children:p.length>0?p.map(e=>(0,s.jsx)(l.Zp,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)(n.eu,{children:(0,s.jsx)(n.q5,{children:e.buyerUsername.substring(0,2).toUpperCase()})}),(0,s.jsxs)("div",{className:"flex-grow",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h4",{className:"font-semibold",children:e.buyerUsername}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString("uk-UA")})]}),(0,s.jsx)("div",{className:"my-1",children:(0,s.jsx)(x,{rating:e.rating})}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground mb-1",children:["Лот: ",(0,s.jsx)("span",{className:"font-medium text-primary",children:e.lotName})]}),(0,s.jsx)("p",{className:"text-sm",children:e.comment})]})]})},e.id)):(0,s.jsx)("p",{className:"text-muted-foreground text-center py-10",children:"У вас ще немає відгуків."})})]})]})}},8437:(e,t,r)=>{"use strict";r.d(t,{A:()=>o,AuthProvider:()=>u});var s=r(5155),a=r(2115),l=r(3004),n=r(6104),i=r(5317);let d=(0,a.createContext)(void 0),u=e=>{let{children:t}=e,[r,u]=(0,a.useState)(null),[o,c]=(0,a.useState)(null),[f,m]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=(0,l.hg)(n.j2,e=>{u(e),e||(c(null),m(!1))});return()=>e()},[]),(0,a.useEffect)(()=>{if(r){m(!0);let e=!1,t=(0,i.H9)(n.db,"users",r.uid),s=(0,i.aQ)(t,t=>{t.exists()?(c(t.data()),m(!1)):e||(c(null),m(!1)),e=!0},e=>{console.error("Error subscribing to user document:",e),c(null),m(!1)});return()=>s()}f&&m(!1)},[r]),(0,s.jsx)(d.Provider,{value:{user:r,firestoreUser:o,loading:f},children:t})},o=()=>{let e=(0,a.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9033:(e,t,r)=>{"use strict";r.d(t,{c:()=>a});var s=r(2115);function a(e){let t=s.useRef(e);return s.useEffect(()=>{t.current=e}),s.useMemo(()=>(...e)=>t.current?.(...e),[])}},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var s=r(2596),a=r(9688);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},9840:(e,t,r)=>{Promise.resolve().then(r.bind(r,6787))}},e=>{var t=t=>e(e.s=t);e.O(0,[992,644,848,453,323,441,684,358],()=>t(9840)),_N_E=e.O()}]);