(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[398],{172:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(157).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},195:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>er});var a=r(5155),s=r(2115),n=r(6874),l=r.n(n),d=r(6104),i=r(8437),o=r(5317),c=r(6695),u=r(285),f=r(5127),m=r(6126),x=r(157);let p=(0,x.A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var h=r(172);let v=(0,x.A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var y=r(7607);let g=(0,x.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var b=r(7481),j=r(6081),N=r(6101),w=r(5452),A=r(5185),T=r(9708),R="AlertDialog",[D,S]=(0,j.A)(R,[w.Hs]),k=(0,w.Hs)(),E=e=>{let{__scopeAlertDialog:t,...r}=e,s=k(t);return(0,a.jsx)(w.bL,{...s,...r,modal:!0})};E.displayName=R;var C=s.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,n=k(r);return(0,a.jsx)(w.l9,{...n,...s,ref:t})});C.displayName="AlertDialogTrigger";var _=e=>{let{__scopeAlertDialog:t,...r}=e,s=k(t);return(0,a.jsx)(w.ZL,{...s,...r})};_.displayName="AlertDialogPortal";var I=s.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,n=k(r);return(0,a.jsx)(w.hJ,{...n,...s,ref:t})});I.displayName="AlertDialogOverlay";var O="AlertDialogContent",[M,H]=D(O),z=s.forwardRef((e,t)=>{let{__scopeAlertDialog:r,children:n,...l}=e,d=k(r),i=s.useRef(null),o=(0,N.s)(t,i),c=s.useRef(null);return(0,a.jsx)(w.G$,{contentName:O,titleName:P,docsSlug:"alert-dialog",children:(0,a.jsx)(M,{scope:r,cancelRef:c,children:(0,a.jsxs)(w.UC,{role:"alertdialog",...d,...l,ref:o,onOpenAutoFocus:(0,A.m)(l.onOpenAutoFocus,e=>{var t;e.preventDefault(),null==(t=c.current)||t.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,a.jsx)(T.xV,{children:n}),(0,a.jsx)(L,{contentRef:i})]})})})});z.displayName=O;var P="AlertDialogTitle",B=s.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,n=k(r);return(0,a.jsx)(w.hE,{...n,...s,ref:t})});B.displayName=P;var F="AlertDialogDescription",V=s.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,n=k(r);return(0,a.jsx)(w.VY,{...n,...s,ref:t})});V.displayName=F;var $=s.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,n=k(r);return(0,a.jsx)(w.bm,{...n,...s,ref:t})});$.displayName="AlertDialogAction";var U="AlertDialogCancel",Z=s.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,{cancelRef:n}=H(U,r),l=k(r),d=(0,N.s)(t,n);return(0,a.jsx)(w.bm,{...l,...s,ref:d})});Z.displayName=U;var L=e=>{let{contentRef:t}=e,r="`".concat(O,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(O,"` by passing a `").concat(F,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(O,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return s.useEffect(()=>{var e;document.getElementById(null==(e=t.current)?void 0:e.getAttribute("aria-describedby"))||console.warn(r)},[r,t]),null},Q=r(9434);let X=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(I,{className:(0,Q.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...s,ref:t})});X.displayName=I.displayName;let J=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsxs)(_,{children:[(0,a.jsx)(X,{}),(0,a.jsx)(z,{ref:t,className:(0,Q.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...s})]})});J.displayName=z.displayName;let W=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,Q.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...r})};W.displayName="AlertDialogHeader";let q=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,Q.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};q.displayName="AlertDialogFooter";let G=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(B,{ref:t,className:(0,Q.cn)("text-lg font-semibold",r),...s})});G.displayName=B.displayName;let Y=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(V,{ref:t,className:(0,Q.cn)("text-sm text-muted-foreground",r),...s})});Y.displayName=V.displayName;let K=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)($,{ref:t,className:(0,Q.cn)((0,u.r)(),r),...s})});K.displayName=$.displayName;let ee=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(Z,{ref:t,className:(0,Q.cn)((0,u.r)({variant:"outline"}),"mt-2 sm:mt-0",r),...s})});function et(e){let{onDelete:t,children:r}=e;return(0,a.jsxs)(E,{children:[(0,a.jsx)(C,{asChild:!0,children:r}),(0,a.jsxs)(J,{children:[(0,a.jsxs)(W,{children:[(0,a.jsx)(G,{children:"Ви впевнені?"}),(0,a.jsx)(Y,{children:"Цю дію неможливо буде скасувати. Лот буде остаточно видалено з аукціону."})]}),(0,a.jsxs)(q,{children:[(0,a.jsx)(ee,{children:"Скасувати"}),(0,a.jsx)(K,{onClick:t,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Так, видалити"})]})]})]})}function er(){let{user:e,loading:t}=(0,i.A)(),[r,n]=(0,s.useState)([]),[x,j]=(0,s.useState)(!0),{toast:N}=(0,b.dj)();(0,s.useEffect)(()=>{if(document.title="Мої лоти - Панель Продавця",!e)return void j(!1);j(!0);let t=(0,o.rJ)(d.db,"lots"),r=(0,o.P)(t,(0,o._M)("sellerUid","==",e.uid),(0,o.My)("createdAt","desc")),a=(0,o.aQ)(r,e=>{n(e.docs.map(e=>({...e.data(),id:e.id}))),j(!1)},e=>{console.error("Error fetching user lots: ",e),N({variant:"destructive",title:"Помилка",description:"Не вдалося завантажити ваші лоти. Спробуйте оновити сторінку."}),j(!1)});return()=>a()},[e,N]);let w=async e=>{try{await (0,o.kd)((0,o.H9)(d.db,"lots",e)),N({title:"Успішно",description:"Лот було видалено."})}catch(e){console.error("Error deleting lot:",e),N({variant:"destructive",title:"Помилка",description:"Не вдалося видалити лот."})}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-headline font-semibold text-primary",children:"Мої лоти"}),(0,a.jsx)(u.$,{asChild:!0,children:(0,a.jsxs)(l(),{href:"/dashboard/lots/new",children:[(0,a.jsx)(p,{className:"mr-2 h-4 w-4"})," Додати новий лот"]})})]}),(0,a.jsxs)(c.Zp,{children:[(0,a.jsxs)(c.aR,{children:[(0,a.jsx)(c.ZB,{children:"Список ваших лотів"}),(0,a.jsx)(c.BT,{children:"Переглядайте та керуйте вашими лотами. Оновлення відбуваються в реальному часі."})]}),(0,a.jsx)(c.Wu,{children:t||x?(0,a.jsx)("div",{className:"flex justify-center items-center py-10",children:(0,a.jsx)(h.A,{className:"h-8 w-8 animate-spin text-primary"})}):e?r.length>0?(0,a.jsxs)(f.XI,{children:[(0,a.jsx)(f.A0,{children:(0,a.jsxs)(f.Hj,{children:[(0,a.jsx)(f.nd,{children:"Назва лоту"}),(0,a.jsx)(f.nd,{children:"Поточна ставка"}),(0,a.jsx)(f.nd,{children:"К-сть ставок"}),(0,a.jsx)(f.nd,{children:"Статус"}),(0,a.jsx)(f.nd,{children:"Дії"})]})}),(0,a.jsx)(f.BF,{children:r.map(e=>{let t=new Date(e.endTime)>new Date,r=e.bidCount>0,s=t&&!r;return(0,a.jsxs)(f.Hj,{children:[(0,a.jsx)(f.nA,{className:"font-medium",children:e.name}),(0,a.jsxs)(f.nA,{children:[e.currentBid," грн"]}),(0,a.jsx)(f.nA,{children:e.bidCount||0}),(0,a.jsx)(f.nA,{children:(0,a.jsx)(m.E,{variant:t?"default":"secondary",children:t?"Активний":"Завершений"})}),(0,a.jsxs)(f.nA,{className:"space-x-2",children:[s?(0,a.jsx)(u.$,{variant:"outline",size:"icon","aria-label":"Редагувати лот",asChild:!0,children:(0,a.jsx)(l(),{href:"/dashboard/lots/edit/".concat(e.id),children:(0,a.jsx)(v,{className:"h-4 w-4"})})}):(0,a.jsx)(u.$,{variant:"outline",size:"icon","aria-label":"Переглянути лот",asChild:!0,children:(0,a.jsx)(l(),{href:"/lot/".concat(e.id),children:(0,a.jsx)(y.A,{className:"h-4 w-4"})})}),(0,a.jsx)(et,{onDelete:()=>w(e.id),children:(0,a.jsx)(u.$,{variant:"destructive",size:"icon","aria-label":"Видалити лот",disabled:t&&r,children:(0,a.jsx)(g,{className:"h-4 w-4"})})})]})]},e.id)})})]}):(0,a.jsxs)("div",{className:"text-center py-10",children:[(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:"У вас ще немає створених лотів."}),(0,a.jsx)(u.$,{asChild:!0,children:(0,a.jsx)(l(),{href:"/dashboard/lots/new",children:"Створити перший лот"})})]}):(0,a.jsx)("p",{className:"text-muted-foreground text-center",children:"Будь ласка, увійдіть, щоб переглянути ваші лоти."})})]})]})}ee.displayName=Z.displayName},285:(e,t,r)=>{"use strict";r.d(t,{$:()=>o,r:()=>i});var a=r(5155),s=r(2115),n=r(9708),l=r(2085),d=r(9434);let i=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,t)=>{let{className:r,variant:s,size:l,asChild:o=!1,...c}=e,u=o?n.DX:"button";return(0,a.jsx)(u,{className:(0,d.cn)(i({variant:s,size:l,className:r})),ref:t,...c})});o.displayName="Button"},2329:(e,t,r)=>{Promise.resolve().then(r.bind(r,195))},5127:(e,t,r)=>{"use strict";r.d(t,{A0:()=>d,BF:()=>i,Hj:()=>o,XI:()=>l,nA:()=>u,nd:()=>c});var a=r(5155),s=r(2115),n=r(9434);let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",r),...s})})});l.displayName="Table";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",r),...s})});d.displayName="TableHeader";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",r),...s})});i.displayName="TableBody",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...s})}).displayName="TableFooter";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...s})});o.displayName="TableRow";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...s})});c.displayName="TableHead";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...s})});u.displayName="TableCell",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",r),...s})}).displayName="TableCaption"},6104:(e,t,r)=>{"use strict";r.d(t,{Cn:()=>c,db:()=>o,j2:()=>i,yA:()=>d});var a=r(3915),s=r(3004),n=r(5317),l=r(1427);let d=(0,a.Dk)().length?(0,a.Sx)():(0,a.Wp)({apiKey:"AIzaSyAdTHghtC6EapiesS1beHswN5EHJaQ4DEo",authDomain:"reefua.firebaseapp.com",projectId:"reefua",storageBucket:"reefua.firebasestorage.app",messagingSenderId:"655785668574",appId:"1:655785668574:web:6db232c21f495107af374f"}),i=(0,s.xI)(d),o=(0,n.aU)(d),c=(0,l.Uz)(d,"us-central1")},6126:(e,t,r)=>{"use strict";r.d(t,{E:()=>d});var a=r(5155);r(2115);var s=r(2085),n=r(9434);let l=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:t,variant:r,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)(l({variant:r}),t),...s})}},6695:(e,t,r)=>{"use strict";r.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>i,Zp:()=>l,aR:()=>d,wL:()=>u});var a=r(5155),s=r(2115),n=r(9434);let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});l.displayName="Card";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});d.displayName="CardHeader";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});i.displayName="CardTitle";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})});o.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})});u.displayName="CardFooter"},7481:(e,t,r)=>{"use strict";r.d(t,{dj:()=>f});var a=r(2115);let s=0,n=new Map,l=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},d=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?l(r):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},i=[],o={toasts:[]};function c(e){o=d(o,e),i.forEach(e=>{e(o)})}function u(e){let{...t}=e,r=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||a()}}}),{id:r,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function f(){let[e,t]=a.useState(o);return a.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},7607:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(157).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},8437:(e,t,r)=>{"use strict";r.d(t,{A:()=>c,AuthProvider:()=>o});var a=r(5155),s=r(2115),n=r(3004),l=r(6104),d=r(5317);let i=(0,s.createContext)(void 0),o=e=>{let{children:t}=e,[r,o]=(0,s.useState)(null),[c,u]=(0,s.useState)(null),[f,m]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let e=(0,n.hg)(l.j2,e=>{o(e),e||(u(null),m(!1))});return()=>e()},[]),(0,s.useEffect)(()=>{if(r){m(!0);let e=!1,t=(0,d.H9)(l.db,"users",r.uid),a=(0,d.aQ)(t,t=>{t.exists()?(u(t.data()),m(!1)):e||(u(null),m(!1)),e=!0},e=>{console.error("Error subscribing to user document:",e),u(null),m(!1)});return()=>a()}f&&m(!1)},[r]),(0,a.jsx)(i.Provider,{value:{user:r,firestoreUser:c,loading:f},children:t})},c=()=>{let e=(0,s.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(2596),s=r(9688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,644,848,453,323,874,508,452,441,684,358],()=>t(2329)),_N_E=e.O()}]);